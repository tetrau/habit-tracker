{"version":3,"sources":["habit-card.js","habit-editor.js","habit-detail.js","habit-create.js","app-config.js","App.js","serviceWorker.js","index.js"],"names":["Habit","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","incOne","bind","assertThisInitialized","clickHandler","Date","getTime","habit","undefined","journal","dateString","goal","activity","timestamp","push","modifiyHabit","e","rect","currentTarget","getBoundingClientRect","clientX","left","right","changeMode","habitId","id","mode","progressBarWidth","Math","min","ceil","length","progressBarStyle","width","toString","react_default","a","createElement","className","onClick","name","role","style","React","Component","HabitEditor","state","presetName","presetGoal","nameValid","goalValid","clickSave","handleGoalChange","handleNameChange","event","setState","target","value","Number","isInteger","newHabit","setHabit","nameClass","goalClass","htmlFor","onChange","type","displayDelete","deleteHabit","HabitDetail","clickUndo","todayJournal","window","confirm","pop","Fragment","habit_editor","map","idx","key","toLocaleString","HabitCreate","createHabit","replace","c","r","random","uuidv4","AppConfig","clearDatabase","exportHabits","habits","JSON","stringify","Blob","exportHabitsURL","URL","createObjectURL","database","clear","clearHabit","revokeObjectURL","download","href","NavBar","clickLeft","gotoToday","clickRight","visibility","hideRight","App","date","dateToDateString","getFullYear","padStart","getMonth","getDate","put","delete","add","openDB","upgrade","db","oldVersion","newVersion","transaction","console","log","createObjectStore","keyPath","count","initData","tx","store","objectStore","Promise","all","item","done","forEach","h","getAll","mainContent","navBar","_this2","habitDisplay","elem","habit_card","dateChangeNaveBar","App_NavBar","newDate","setDate","returnNvaBar","index_esm","icon","Gear","size","Plus","habit_detail","habit_create","app_config","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d25976ae.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\n\nclass Habit extends React.Component {\n    constructor(props) {\n      super(props);\n      this.incOne = this.incOne.bind(this);\n      this.clickHandler = this.clickHandler.bind(this);\n    }\n  \n    timestamp() {\n      return (new Date()).getTime() / 1000;\n    }\n  \n    async incOne() {\n      let habit = this.props.habit;\n      let todayJournal = habit.journal[this.props.dateString];\n      if (todayJournal === undefined) {\n        habit.journal[this.props.dateString] = {\n          goal: this.props.habit.goal,\n          activity: [this.timestamp()]\n        }\n      } else {\n        habit.journal[this.props.dateString].activity.push(this.timestamp())\n      }\n      await this.props.modifiyHabit(habit);\n    }\n  \n    clickHandler(e) {\n      let rect = e.currentTarget.getBoundingClientRect();\n      if (e.clientX < (rect.left + rect.right) / 2) {\n        this.props.changeMode({ habitId: this.props.habit.id, mode: \"config\" })\n      } else {\n        this.incOne()\n      }\n    }\n  \n    activity() {\n      let journal = this.props.habit.journal[this.props.dateString];\n      if (journal === undefined) {\n        return [];\n      } else {\n        return journal.activity;\n      }\n    }\n  \n    goal() {\n      let journal = this.props.habit.journal[this.props.dateString];\n      if (journal === undefined) {\n        return this.props.habit.goal;\n      } else {\n        return journal.goal;\n      }\n    }\n  \n    render() {\n      let progressBarWidth = Math.min(100, Math.ceil((this.activity().length / this.goal()) * 100));\n      let progressBarStyle = { \"width\": progressBarWidth.toString() + \"%\" }\n      let habitDisplay = (<div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card mb-2\" onClick={this.clickHandler}>\n            <div className=\"card-body\">\n              <h5 className=\"mb-0\">{this.props.habit.name}</h5>\n              <div className=\"progress\">\n                <div className={progressBarWidth === 100 ? \"progress-bar bg-success\" : \"progress-bar\"} role=\"progressbar\" style={progressBarStyle}>\n                  {this.activity().length.toString() + \"/\" + this.goal().toString()}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>);\n      return habitDisplay;\n    }\n  }\n  export default Habit;","import React, { Component } from \"react\";\n\nclass HabitEditor extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: this.props.presetName !== undefined ? this.props.presetName : \"\",\n            goal: this.props.presetGoal !== undefined ? this.props.presetGoal : \"\",\n            nameValid: true,\n            goalValid: true\n        }\n        this.clickSave = this.clickSave.bind(this);\n        this.handleGoalChange = this.handleGoalChange.bind(this);\n        this.handleNameChange = this.handleNameChange.bind(this);\n    }\n\n    handleNameChange(event) {\n        this.setState({ name: event.target.value });\n    }\n\n    handleGoalChange(event) {\n        this.setState({ goal: event.target.value });\n    }\n\n    async clickSave() {\n        this.setState({\n            nameValid: true,\n            goalValid: true\n        });\n        let name = this.state.name;\n        if (name.length === 0 || typeof name !== \"string\") {\n            this.setState({ nameValid: false })\n            return;\n        }\n        let goal = Number(this.state.goal);\n        if (!Number.isInteger(goal) || goal <= 0) {\n            this.setState({ goalValid: false })\n            return;\n        }\n        let newHabit = { name, goal }\n        this.props.setHabit(newHabit);\n    }\n\n    render() {\n        let nameClass = \"form-control\" + (this.state.nameValid ? \"\" : \" is-invalid\");\n        let goalClass = \"form-control\" + (this.state.goalValid ? \"\" : \" is-invalid\");\n        return (\n            <div className=\"form-row\">\n                <div className=\"col-12\">\n                    <label htmlFor=\"habit-name\" className=\"mb-0\">Name</label>\n                    <input id=\"habit-name\" className={nameClass} onChange={this.handleNameChange} value={this.state.name} />\n                    {!this.state.nameValid && (<div className=\"invalid-feedback\">\n                        Please provide a valid name.\n              </div>)}\n                    <label htmlFor=\"habit-goal\" className=\"mb-0\">Goal</label>\n                    <input id=\"habit-goal\" className={goalClass} min=\"0\" type=\"number\" onChange={this.handleGoalChange} value={this.state.goal} />\n                    {!this.state.goalValid && (<div className=\"invalid-feedback\">\n                        Please provide a valid goal (positive integer).\n              </div>)}\n                    <div className=\"d-flex flex-row-reverse pt-2\">\n                        <button className=\"btn btn-primary\" onClick={this.clickSave}>Save</button>\n                        {this.props.displayDelete &&\n                            <button className=\"btn btn-danger mr-2\" onClick={this.props.deleteHabit}>Delete Habit</button>\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\nexport default HabitEditor;","import React, { Component } from \"react\";\nimport HabitEditor from \"./habit-editor\";\n\nclass HabitDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.setHabit = this.setHabit.bind(this);\n    this.clickUndo = this.clickUndo.bind(this);\n    this.deleteHabit = this.deleteHabit.bind(this);\n  }\n\n  async setHabit(newHabit) {\n    let habit = this.props.habit;\n    let todayJournal = habit.journal[this.props.dateString];\n    habit.name = newHabit.name;\n    habit.goal = newHabit.goal;\n    if (todayJournal !== undefined) {\n      todayJournal.goal = newHabit.goal;\n    }\n    await this.props.modifiyHabit(habit)\n    this.props.changeMode({ mode: \"normal\" })\n  }\n\n\n  async deleteHabit() {\n    let habitId = this.props.habit.id;\n    let confirmDelete = window.confirm(\"Confirm Delete habit -\" + this.props.habit.name + \"- ?\");\n    if (confirmDelete) {\n      await this.props.deleteHabit(habitId);\n    }\n\n  }\n  async clickUndo() {\n    let habit = this.props.habit;\n    let dateString = this.props.dateString;\n    if (habit.journal[dateString] === undefined || habit.journal[dateString].activity.length === 0) {\n      return;\n    } else {\n      habit.journal[dateString].activity.pop();\n      await this.props.modifiyHabit(habit);\n    }\n  }\n\n  render() {\n    let activity = this.props.habit.journal[this.props.dateString];\n    if (activity === undefined) {\n      activity = []\n    } else {\n      activity = activity.activity;\n    }\n    return (\n      <React.Fragment>\n        <HabitEditor presetName={this.props.habit.name} presetGoal={this.props.habit.goal.toString()} setHabit={this.setHabit} deleteHabit={this.deleteHabit} displayDelete={true} />\n        {activity.length > 0 &&\n          (<React.Fragment><div className=\"row mt-2\">\n            <div className=\"col-12\">\n              <ul className=\"list-group\">\n                {activity.map((a, idx) => {\n                  return <li className=\"list-group-item\" key={idx}>{(new Date(a * 1000)).toLocaleString()}</li>\n                })}\n              </ul>\n            </div>\n          </div>\n            <div className=\"row mt-2\">\n              <div className=\"col-12\">\n                <div className=\"d-flex flex-row-reverse\">\n                  <button className=\"btn btn-primary\" onClick={this.clickUndo}>Undo Last Activity</button>\n                </div>\n              </div>\n            </div></React.Fragment>)}\n      </React.Fragment>)\n  }\n}\n\nexport default HabitDetail;","import React, { Component } from \"react\";\nimport HabitEditor from \"./habit-editor\";\n\nclass HabitCreate extends Component {\n  constructor(props) {\n    super(props);\n    this.createHabit = this.createHabit.bind(this);\n  }\n\n  uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n  async createHabit(newHabit) {\n    let habit = { \"goal\": newHabit.goal, journal: {}, \"name\": newHabit.name, id: this.uuidv4() }\n    await this.props.createHabit(habit);\n    this.props.changeMode({ mode: \"normal\" })\n  }\n\n  render() {\n    return <HabitEditor setHabit={this.createHabit} />\n  }\n}\n\nexport default HabitCreate;","import React, { Component } from \"react\";\n\nclass AppConfig extends Component {\n    constructor(props) {\n        super(props);\n        this.clearDatabase = this.clearDatabase.bind(this);\n        let exportHabits = []\n        for (let habitId in this.props.habits) {\n            exportHabits.push(this.props.habits[habitId])\n        }\n        exportHabits = JSON.stringify(exportHabits, null, 2);\n        exportHabits = new Blob([exportHabits], {type : 'application/json'});\n        this.exportHabitsURL = URL.createObjectURL(exportHabits);\n    }\n\n    async clearDatabase() {\n        let confirmDelete = window.confirm(\"Confirm delete the database content?\");\n        if (confirmDelete) {\n            await this.props.database.clear(\"habits\");\n            this.props.clearHabit()\n        }\n    }\n    componentWillUnmount(){\n        URL.revokeObjectURL(this.exportHabitsURL);\n    }\n    render() {\n        \n        return (\n            <React.Fragment>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <div className=\"btn btn-outline-danger btn-lg btn-block\" onClick={this.clearDatabase}>Clear Database</div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <a className=\"btn btn-outline-primary btn-lg btn-block mt-2\" download=\"habit.json\" href={this.exportHabitsURL}>Export to Json</a>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n\n    }\n}\nexport default AppConfig;  ","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { Component } from \"react\";\nimport 'bootstrap';\nimport { openDB } from 'idb';\nimport Octicon, { Gear, Plus } from '@githubprimer/octicons-react'\nimport Habit from \"./habit-card\"\nimport HabitDetail from \"./habit-detail\"\nimport HabitCreate from \"./habit-create\"\nimport AppConfig from \"./app-config\"\n\nclass NavBar extends React.Component {\n  render() {\n    return (\n      <div className=\"navbar navbar-light bg-light mb-2\">\n        <div className=\"container d-flex justify-content-between\">\n          <a className=\"btn btn-outline-link btn-sm\"\n            onClick={this.props.clickLeft}>&lt;</a>\n          <a className=\"navbar-brand\" onClick={this.props.gotoToday}>{this.props.dateString}</a>\n          <a className=\"btn btn-outline-link btn-sm\"\n            onClick={this.props.clickRight}\n            style={{ visibility: this.props.hideRight ? 'hidden' : 'visible' }}>&gt;</a>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { habits: {}, date: new Date(), mode: { mode: \"normal\" } };\n    this.dateString = this.dateString.bind(this);\n    this.dateToDateString = this.dateToDateString.bind(this);\n    this.modifiyHabit = this.modifiyHabit.bind(this);\n    this.changeMode = this.changeMode.bind(this);\n    this.createHabit = this.createHabit.bind(this);\n    this.deleteHabit = this.deleteHabit.bind(this);\n  }\n\n  dateToDateString(date) {\n    let year = date.getFullYear().toString().padStart(4, \"0\");\n    let month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    let day = date.getDate().toString().padStart(2, \"0\");\n    return year + \"-\" + month + \"-\" + day;\n  }\n\n  dateString() {\n    return this.dateToDateString(this.state.date)\n  }\n\n  changeMode(mode) {\n    this.setState({ mode })\n  }\n\n  async modifiyHabit(newHabit) {\n    await this.database.put(\"habits\", newHabit);\n    let habits = this.state.habits;\n    habits[newHabit.id] = newHabit\n    this.setState({ habits })\n  }\n\n  async deleteHabit(habitId) {\n    await this.database.delete(\"habits\", habitId);\n    let habits = this.state.habits;\n    delete habits[habitId];\n    this.setState({ habits, mode: { mode: \"normal\" } })\n  }\n\n  async createHabit(habit) {\n    await this.database.add(\"habits\", habit);\n    let habits = this.state.habits;\n    habits[habit.id] = habit\n    this.setState({ habits })\n  }\n\n  async componentDidMount() {\n    let database = await openDB('habitTracker', 1, {\n      upgrade(db, oldVersion, newVersion, transaction) {\n        console.log(\"create database\")\n        db.createObjectStore('habits', { \"keyPath\": \"id\" });\n      }\n    });\n    this.database = database;\n    let habitCount = await database.count(\"habits\");\n    if (habitCount === 0) {\n      let initData = []\n      let tx = this.database.transaction('habits', 'readwrite');\n      let store = tx.objectStore('habits');\n      await Promise.all(initData.map(function (item) {\n        return store.add(item);\n      }));\n      await tx.done\n      let habits = {}\n      initData.forEach(h => habits[h.id] = h)\n      this.setState({ habits });\n    } else {\n      let initData = await this.database.getAll(\"habits\");\n      let habits = {}\n      initData.forEach(h => habits[h.id] = h)\n      this.setState({ habits });\n    }\n  }\n\n  render() {\n    let habitDisplay = []\n    for (let h in this.state.habits) {\n      let elem = <Habit\n        habit={this.state.habits[h]}\n        dateString={this.dateString()} key={h}\n        modifiyHabit={this.modifiyHabit}\n        changeMode={this.changeMode}></Habit>\n      habitDisplay.push(elem)\n    }\n    let mainContent;\n    let navBar;\n    let dateChangeNaveBar = (\n      <NavBar\n        clickLeft={() => {\n          let newDate = this.state.date;\n          newDate.setDate(this.state.date.getDate() - 1);\n          this.setState({ date: newDate });\n        }}\n        clickRight={() => {\n          let newDate = this.state.date;\n          newDate.setDate(this.state.date.getDate() + 1);\n          this.setState({ date: newDate });\n        }}\n        hideRight={false}\n        dateString={this.dateString()}\n        gotoToday={() => this.setState({ date: new Date() })}>\n      </NavBar >);\n    let returnNvaBar = (\n      <NavBar\n        clickLeft={() => this.changeMode({ mode: \"normal\" })}\n        clickRight={() => { }}\n        hideRight={true}\n        dateString={this.dateString()}\n        gotoToday={() => this.setState({ date: new Date() })}></NavBar>)\n    if (this.state.mode.mode === \"normal\") {\n      mainContent = (<React.Fragment>\n        {habitDisplay}\n        <div className=\"row\">\n          <div className=\"col-6 pr-1\">\n            <div className=\"btn btn-outline-primary btn-lg btn-block\"\n              onClick={() => this.changeMode({ mode: \"appConfig\" })}>\n              <Octicon icon={Gear} size='medium'></Octicon>\n            </div>\n          </div>\n          <div className=\"col-6 pl-1\">\n            <div className=\"btn btn-outline-primary btn-lg btn-block\"\n              onClick={() => this.changeMode({ mode: \"create\" })}>\n              <Octicon icon={Plus} size='medium'></Octicon>\n            </div>\n          </div>\n        </div></React.Fragment>);\n      navBar = dateChangeNaveBar;\n    } else if (this.state.mode.mode === \"config\") {\n      mainContent = (<HabitDetail habit={this.state.habits[this.state.mode.habitId]}\n        dateString={this.dateString()}\n        modifiyHabit={this.modifiyHabit}\n        changeMode={this.changeMode}\n        deleteHabit={this.deleteHabit}></HabitDetail>);\n      navBar = returnNvaBar;\n    } else if (this.state.mode.mode === \"create\") {\n      mainContent = (<HabitCreate changeMode={this.changeMode} createHabit={this.createHabit} ></HabitCreate>)\n      navBar = returnNvaBar;\n    } else if (this.state.mode.mode === \"appConfig\") {\n      mainContent = (<AppConfig\n        clearHabit={() => { this.setState({ mode: { mode: \"normal\" }, habits: {} }) }}\n        database={this.database}\n        habits={this.state.habits}></AppConfig>)\n      navBar = returnNvaBar;\n    }\n    return (<div className=\"container\">{navBar}{mainContent}</div>)\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}